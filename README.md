# Availability Calendar Widget
üìò **Languages:**
[üá∑üá∫ –†—É—Å—Å–∫–∏–π](README.md) | [üá¨üáß English](README.en.md) | [üáµüá± Polski](README.pl.md)

![—Å–∫—Ä–∏–Ω—à–æ—Ç](Screenshot_202510.png)

*–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–º–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ luga.by*

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–∏–¥–∂–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–æ–º–æ–≤/–Ω–æ–º–µ—Ä–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Google Sheets, Google Apps Script –∏ WuBook/Zak API (PMS –¥–ª—è –æ—Ç–µ–ª–µ–π). –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞—Ç—ã, —Å—Ç–∞—Ç—É—Å (—Å–≤–æ–±–æ–¥–Ω–æ/–∑–∞–Ω—è—Ç–æ), –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

## –§—É–Ω–∫—Ü–∏–∏ üöÄ

- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏.
- –£—á–µ—Ç –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ (API Nager.Date) –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö.
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –¥–∞—Ç –∑–∞–µ–∑–¥–∞/–≤—ã–µ–∑–¥–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–µ–π.
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (Google CacheService, Drive).
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–ª—è WuBook/Zak).
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (CSS, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª).
- –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## –î–µ–º–æ üì∫

- **–ñ–∏–≤–æ–µ –¥–µ–º–æ**: [example.html](https://htosci.github.io/availibl_widget/example.html).

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è üõ†Ô∏è

- Google Account (Apps Script, Sheets).
- API –∫–ª—é—á–∏: Nager.Date (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π), WuBook/Zak.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ üìã

### 1. Google Sheets
1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É, –ª–∏—Å—Ç `available`.
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
   - –°—Ç—Ä–æ–∫–∞ 2: –î–∞—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è(—Å –∫–æ–ª–æ–Ω–∫–∏ C, `DD.MM.YYYY`).
   - –ö–æ–ª–æ–Ω–∫–∞ A: ID –¥–æ–º–æ–≤ –≤ ZakAPI(—Å 3-–π —Å—Ç—Ä–æ–∫–∏).
   - –ö–æ–ª–æ–Ω–∫–∞ B: –ù–∞–∑–≤–∞–Ω–∏—è –¥–æ–º–æ–≤.
   - –û—Å—Ç–∞–ª—å–Ω–æ–µ: `TRUE`/`FALSE` (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º).
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `SPREADSHEET_ID` (–∏–∑ URL).

### 2. Google Apps Script
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Apps Script](https://script.google.com).
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã: `Avail_vidget.js`, `json_creator.js`, `json_creator_utility.js`, `zag_to_table.js`, `zag_to_table_utility.js`, `utility.js`, `test_data_json.js`, `style.html`(–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∏–∑ .css).
3. –£–∫–∞–∂–∏—Ç–µ `SPREADSHEET_ID` –∏ `ZAG_API_KEY` –≤ PropertiesService.
4. –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –∫–∞–∫ Web App: `Deploy > Web app > Execute as: Me > Access: Anyone`.
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `APP_SCRIPT_URL`.

### 3. Frontend
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ: `script_to_site.js`.
2. –î–æ–±–∞–≤—å—Ç–µ –≤ HTML:
   ```html
   <div id="appscript-widget-container"></div>
   <script src="script_to_site.js"></script>
   ```
3. –£–∫–∞–∂–∏—Ç–µ `APP_SCRIPT_URL` –≤ `script_to_site.js`.

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `UpdateTableFromZAG()` –≤ Apps Script.
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `updateCacheAndFile()` –≤ utility.
- –û—Ç–∫—Ä–æ–π—Ç–µ `your.html`.

### 5. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- –¢—Ä–∏–≥–≥–µ—Ä –≤ Apps Script: `Triggers > Add Trigger > UpdateTableFromZAG > Hourly`.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üîß

- –í–∏–¥–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ `<div id="appscript-widget-container">`.
- –í—ã–±–æ—Ä –¥–∞—Ç: –ö–ª–∏–∫ –Ω–∞ –ø–µ—Ä–≤—É—é –∏ –ø–æ—Å–ª–µ–¥–Ω—é—é –¥–∞—Ç—É ‚Üí –¥–∏–∞–ø–∞–∑–æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `selectedRange`.
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `updateCacheAndFile()` (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø–æ —Ç—Ä–∏–≥–≥–µ—Ä—É).
- –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è: –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `style.css` –∏–ª–∏ `script_to_site.js`.

## –û—Ç–ª–∞–¥–∫–∞ ‚ö†Ô∏è

- **API –æ—à–∏–±–∫–∏**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏ –∏ –ª–∏–º–∏—Ç—ã.
- **–ö—ç—à**: –û—á–∏—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ `clearHolidayCache()`.
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Europe/Minsk` –≤ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞—Ö.
- **–õ–æ–≥–∏**: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —á–µ—Ä–µ–∑ `Logger.log()`.

## –õ–∏—Ü–µ–Ω–∑–∏—è üìÑ

MIT License.

## –ê–≤—Ç–æ—Ä üë®‚Äçüíª

## –ê–≤—Ç–æ—Ä
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ [luga.by](https://luga.by).  
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ª–æ–≥–∏–∫–∞ –∏ –¥–∏–∑–∞–π–Ω ‚Äî @htosci.